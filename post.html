<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>new event</title>
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/npm/lucide@0.44.0/dist/css/lucide.min.css"
            rel="stylesheet"
        />
        <style>
            /* Custom styles for ShadCN New York theme */
            body {
                background-color: #1c1c1e;
                color: #f9f9f9;
                font-family: "Inter", sans-serif;
            }
            a {
                color: #4da6ff;
            }
            .form-control {
                background-color: #2c2c2e;
                border: 1px solid #3a3a3c;
                color: #f9f9f9;
            }
            .form-control::placeholder {
                color: #6c6c6e;
            }
            .btn-primary {
                background-color: #0a84ff;
                border: none;
                color: white;
            }
            .btn-primary:hover {
                background-color: #0063e5;
            }
        </style>
    </head>
    <body class="font-sans antialiased lowercase">
        <div class="container mx-auto p-6">
            <header class="mb-12">
                <h1 class="text-4xl font-bold mb-2">new event</h1>
                <a href="https://blog.farseen.tech" class="text-lg text-blue-400"
                    >view events</a
                >
            </header>

            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">New Blog Entry</h2>
                <form id="blogForm" class="mb-6">
                    <div class="mb-4">
                        <label for="blogTitle" class="block text-lg font-medium"
                            >Title</label
                        >
                        <input
                            type="text"
                            id="blogTitle"
                            class="form-control w-full p-2 rounded"
                            placeholder="Enter the title"
                        />
                    </div>
                    <div class="mb-4">
                        <label
                            for="blogContent"
                            class="block text-lg font-medium"
                            >Content</label
                        >
                        <textarea
                            id="blogContent"
                            rows="4"
                            class="form-control w-full p-2 rounded"
                            placeholder="Enter the content"
                        ></textarea>
                    </div>
                    <button type="submit" class="btn-primary px-4 py-2 rounded">
                        Post Blog
                    </button>
                </form>
            </section>
        </div>

        <script>
            document
                .getElementById("blogForm")
                .addEventListener("submit", function (event) {
                    event.preventDefault();

                    const date = new Date().toISOString();
                    const title = document.getElementById("blogTitle").value;
                    let content = document.getElementById("blogContent").value;
                    content = content.replace(/\n/g, "<br>");

                    if (title && content) {
                        fetch("https://blog-h96d.onrender.com/blogs", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify({ date, title, content }),
                        })
                            .then((response) => response.json())
                            .then((data) => {
                                document.getElementById("blogForm").reset();
                                alert("Blog posted successfully!");
                            })
                            .catch((error) => console.error("Error:", error));
                    }
                });
        </script>
    </body>
</html>
